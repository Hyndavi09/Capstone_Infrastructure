node
{
  stage('Git-Checkout') {
   git 'https://github.com/Hyndavi09/Infrastructure.git'
  }

def project_terra="Terraform/"
dir(project_terra) {
   stage('Prod Deployment on AWS'){
   sh label: 'terraform', script: '/bin/terraform  init'
   sh label: 'terraform', script: '/bin/terraform  apply -input=false -auto-approve'
   }
}
 stage('Production - Provisioning Approval') {
  	input "Start provisioning the production server?"
  }
  stage('Downstream Build -- Docker Deployment'){
	 build 'ProductionServer'
	}
}
